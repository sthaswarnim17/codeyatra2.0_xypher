{
  "problems": [
    {
      "concept_id": "trigonometry",
      "title": "Finding the Height of a Tower",
      "text": "From a point 30 m away from the base of a tower, the angle of elevation to the top is 60°. Find the height of the tower.",
      "difficulty": "easy",
      "checkpoints": [
        {
          "question": "Which trig ratio relates the opposite side (height) to the adjacent side (30 m)?",
          "type": "multiple_choice",
          "unit": "",
          "hint_on_first_wrong": "tan θ = opposite / adjacent",
          "choices": [
            { "value": "tan", "is_correct": true },
            { "value": "sin", "is_correct": false },
            { "value": "cos", "is_correct": false },
            { "value": "sec", "is_correct": false }
          ],
          "error_patterns": [
            { "wrong_choice": "sin", "diagnosis": "sin uses opposite/hypotenuse. You have the adjacent side, not the hypotenuse.", "missing_concept_id": "right_triangles" }
          ]
        },
        {
          "question": "h = 30 × tan(60°). tan(60°) = √3 ≈ 1.732. So h ≈ ?",
          "type": "multiple_choice",
          "unit": "m",
          "hint_on_first_wrong": "h = 30 × 1.732 = 51.96 m ≈ 52 m",
          "choices": [
            { "value": "51.96 m", "is_correct": true },
            { "value": "15 m", "is_correct": false },
            { "value": "25.98 m", "is_correct": false },
            { "value": "30 m", "is_correct": false }
          ],
          "error_patterns": [
            { "wrong_choice": "15 m", "diagnosis": "You used tan(30°) = 1/√3 instead of tan(60°) = √3. Check your angle.", "missing_concept_id": "trigonometry" },
            { "wrong_choice": "25.98 m", "diagnosis": "You used sin(60°) = 0.866 instead of tan(60°) = 1.732.", "missing_concept_id": "trigonometry" }
          ]
        }
      ]
    },
    {
      "concept_id": "trigonometry",
      "title": "Resolving a Force at 30°",
      "text": "A force of 100 N acts at 30° to the horizontal. Find its horizontal and vertical components.",
      "difficulty": "medium",
      "checkpoints": [
        {
          "question": "Horizontal component = F × cos(30°). cos(30°) ≈ 0.866. So Fx ≈ ?",
          "type": "multiple_choice",
          "unit": "N",
          "hint_on_first_wrong": "Fx = 100 × cos(30°) = 100 × 0.866 = 86.6 N",
          "choices": [
            { "value": "86.6 N", "is_correct": true },
            { "value": "50 N", "is_correct": false },
            { "value": "100 N", "is_correct": false },
            { "value": "57.7 N", "is_correct": false }
          ],
          "error_patterns": [
            { "wrong_choice": "50 N", "diagnosis": "You used sin(30°) = 0.5 instead of cos(30°) = 0.866 for the horizontal component.", "missing_concept_id": "trigonometry" }
          ]
        },
        {
          "question": "Vertical component = F × sin(30°). sin(30°) = 0.5. So Fy = ?",
          "type": "multiple_choice",
          "unit": "N",
          "hint_on_first_wrong": "Fy = 100 × 0.5 = 50 N",
          "choices": [
            { "value": "50 N", "is_correct": true },
            { "value": "86.6 N", "is_correct": false },
            { "value": "100 N", "is_correct": false },
            { "value": "25 N", "is_correct": false }
          ],
          "error_patterns": [
            { "wrong_choice": "86.6 N", "diagnosis": "You swapped sin and cos. Vertical uses sin, horizontal uses cos.", "missing_concept_id": "trigonometry" }
          ]
        }
      ]
    }
  ]
}
